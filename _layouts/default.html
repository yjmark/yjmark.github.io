<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
<head>
  <script data-cookieconsent="ignore">
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("consent", "default", {
      ad_personalization: "denied",
      ad_storage: "denied",
      ad_user_data: "denied",
      analytics_storage: "denied",
      functionality_storage: "denied",
      personalization_storage: "denied",
      security_storage: "granted",
      wait_for_update: 500,
    });
    gtag("set", "ads_data_redaction", true);
    gtag("set", "url_passthrough", false);
  </script>
   <script async src="https://www.googletagmanager.com/gtag/js?id=G-LYQ8K5BX18"></script>
   <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-LYQ8K5BX18', {
        cookie_domain: 'yjmark.github.io'
      });
   </script>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   {% seo %}
   <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="{{ "/assets/css/style.css?v=" | append: site.github.build_revision | relative_url }}">
   <link rel="stylesheet" href="{{ "/assets/css/custom.css" | relative_url }}">
   <!--[if lt IE 9]>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
   <![endif]-->
</head>
<body id="my-body">
  {% include header.html %}
   <div class="wrapper">
      <header>
         <h1><a href="{{ "/" | absolute_url }}">{{ site.title | default: site.github.repository_name }}</a></h1>
         {% if site.logo %}
         <img src="{{site.logo | relative_url}}" alt="Logo" style="width: 150px; height: auto; border-radius: 50%; object-fit: cover;"/>
         {% endif %}
         <p>{{ site.description | default: site.github.project_tagline }}</p>
         {% if site.github.is_project_page %}
         <p class="view"><a href="{{ site.github.repository_url }}">View the Project on GitHub <small>{{ site.github.repository_nwo }}</small></a></p>
         {% endif %}
         {% if site.github.is_user_page %}
         <p class="view"><a href="{{ site.github.owner_url }}">View My GitHub Profile</a></p>
         {% endif %}
         {% if site.show_downloads %}
         <ul class="downloads">
            <li><a href="{{ site.github.zip_url }}">Download <strong>ZIP File</strong></a></li>
            <li><a href="{{ site.github.tar_url }}">Download <strong>TAR Ball</strong></a></li>
            <li><a href="{{ site.github.repository_url }}">View On <strong>GitHub</strong></a></li>
         </ul>
         {% endif %}
         
      </header>
      <section>
         {{ content }}
      </section>
      <footer>
         {% if site.github.is_project_page %}
         <p>This project is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a></p>
         {% endif %}
         <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
   </div>
   <div id="consent-banner-manual">
    <span class="consent-asking">When you visit this website, we may store cookies on your browser for your security and to help us improve your experience on the website. The information does not usually identify you directly, but it can give you a safer and more personalized experience. Because we respect your right to privacy, you are able to choose not to allow some types of cookies. 
    </span>
    <p><button onclick="updateGAConsent('granted')" class="consent-grant">Allow all</button>
    <button onclick="updateGAConsent('denied')" class="consent-deny">Reject non-essential</button></p>
    </div>
   <script src="{{ "/assets/js/scale.fix.js" | relative_url }}"></script>
   <script>
  function toggleMenu() {
    const nav = document.getElementById("navLinks");
    nav.classList.toggle("show");
    // Automatically close the menu when a link is clicked
  }
  document.addEventListener("DOMContentLoaded", () => {
    const links = document.querySelectorAll("#navLinks a");
    links.forEach(link => {
      link.addEventListener("click", () => {
        document.getElementById("navLinks").classList.remove("show");
      });
    });
  });
</script>
<script>
    function updateGAConsent(status) {
        const consentState = status === 'granted' ? 'granted' : 'denied';

        // 1. Update Google Analytics allow status (Submit a flag to GA once the user allow/deny)
        gtag('consent', 'update', {
            'ad_storage': consentState,
            'analytics_storage': consentState,
            'ad_personalization': consentState,
            'ad_user_data': consentState,
            'functionality_storage': consentState,
            'personalization_storage': consentState,
        });

        // 2. Save the allow/deny record on the browser (hide banner when revisit the site)
        localStorage.setItem('cookie_consent', consentState);
        
        // 3. Hide banner
        document.getElementById('consent-banner-manual').style.display = 'none';
        
        // 4. Delete the past Google Analytics cookies once the user deny
        if (status === 'denied') {
            document.cookie = "_ga=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/";
        }
    }

    // When the page loaded, check the past allow/deny status and show the banner
    window.addEventListener('load', () => {
        const savedConsent = localStorage.getItem('cookie_consent');
        const banner = document.getElementById('consent-banner-manual');

        if (savedConsent) {
            // If the past record exists, update the status to GA
            updateGAConsent(savedConsent);
        } else {
            // If the past record does not exist, show the banner
            banner.style.display = 'block';
        }
    });
</script>
<script type="text/javascript">
// ì „ì—­ ë³€ìˆ˜: ë¡œë“œ ìƒíƒœë¥¼ ì²´í¬í•˜ëŠ” ì¸í„°ë²Œ ID ì €ì¥
let translateBarCheckInterval;

function googleTranslateElementInit() {
    new google.translate.TranslateElement(
        {
            pageLanguage: 'en', 
            includedLanguages: 'ko,zh-CN,hi,es,ar,fr,ru,pt,id', 
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE 
        }, 
        'google_translate_element' 
    );

    // ğŸ’¡ ì´ˆê¸°í™” ì§í›„, ë²ˆì—­ ë°” ë¡œë”©ì„ í™•ì¸í•˜ëŠ” ì¸í„°ë²Œ ì‹œì‘
    // 500ms(0.5ì´ˆ)ë§ˆë‹¤ adjustLayoutForTranslateBar í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ë²ˆì—­ ë°”ë¥¼ ê°ì§€í•©ë‹ˆë‹¤.
    translateBarCheckInterval = setInterval(adjustLayoutForTranslateBar, 500);
    // 2. ë²ˆì—­ ë°”ì˜ ìƒíƒœ ë³€í™”(ì¶”ê°€/ì œê±°)ë¥¼ ì˜êµ¬ì ìœ¼ë¡œ ê°ì§€í•˜ëŠ” ì˜µì €ë²„ ì„¤ì •
    setupTranslationObserver();
}

function setupTranslationObserver() {
    const bodyElement = document.getElementById('my-body') || document.body;
    // MutationObserverë¥¼ ì‚¬ìš©í•˜ì—¬ body ìš”ì†Œì˜ ìì‹ ë³€í™”(ë²ˆì—­ ë°” iframeì˜ ì¶”ê°€/ì œê±°)ë¥¼ ê°ì§€í•©ë‹ˆë‹¤.
    const observer = new MutationObserver((mutationsList, observer) => {
        // ë³€í™”ê°€ ê°ì§€ë˜ë©´ ë ˆì´ì•„ì›ƒì„ ì¦‰ì‹œ ì¡°ì •í•©ë‹ˆë‹¤.
        // true í”Œë˜ê·¸ëŠ” ì˜µì €ë²„ì— ì˜í•´ í˜¸ì¶œë˜ì—ˆìŒì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
        adjustLayoutForTranslateBar(true); 
    });

    // body ìš”ì†Œì˜ ìì‹ ëª©ë¡ ì¶”ê°€/ì œê±°ë§Œ ê´€ì°°í•©ë‹ˆë‹¤.
    observer.observe(bodyElement, { childList: true });
}

// isObserverCall: ì˜µì €ë²„ì— ì˜í•´ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” í”Œë˜ê·¸ (ê¸°ë³¸ê°’: false)
function adjustLayoutForTranslateBar(isObserverCall = false) {
    const translateBar = document.querySelector('.goog-te-banner-frame');
    const navbar = document.querySelector('.navbar');
    const navToggle = document.querySelector('.nav-toggle');
    const bodyElement = document.getElementById('my-body') || document.body;
// ----------------------------------------------------
    // 1. ìƒíƒœ ì¡°ì • ë¡œì§
    // ----------------------------------------------------
    if (translateBar) {
        // âœ… ë²ˆì—­ ë°”ë¥¼ ì°¾ì•˜ì„ ë•Œ (í™œì„±í™” ìƒíƒœ):
        
        // ìµœì´ˆ ë¡œë“œ ê°ì§€ ì¸í„°ë²Œì„ ë©ˆì¶¥ë‹ˆë‹¤.
        if (!isObserverCall) {
            clearInterval(translateBarCheckInterval);
        }

        const barHeight = translateBar.clientHeight; 
        const barHeightPx = barHeight + 'px';

        // 2. Navbarì™€ bodyë¥¼ ë°” ë†’ì´ë§Œí¼ ì¡°ì • (top=40 ìƒíƒœ)
        if (bodyElement) bodyElement.style.marginTop = barHeightPx;
        if (navbar) navbar.style.top = barHeightPx;
        if (navToggle) navToggle.style.top = barHeightPx;

    } else if (isObserverCall) {
        // âŒ ì˜µì €ë²„ì— ì˜í•´ í˜¸ì¶œë˜ì—ˆê³ , translateBarê°€ ì—†ì„ ë•Œ (ë¹„í™œì„±í™” ìƒíƒœ):
        
        // ì´ ë¸”ë¡ì€ ë²ˆì—­ ë°”ê°€ "ì œê±°ë˜ì—ˆìŒ"ì„ ì˜ë¯¸í•˜ë¯€ë¡œ, top: 0 ìœ¼ë¡œ ë³µêµ¬í•©ë‹ˆë‹¤.
        
        // 1. top: 0 ìœ¼ë¡œ ë³µêµ¬
        if (bodyElement) bodyElement.style.marginTop = '0';
        if (navbar) navbar.style.top = '0';
        if (navToggle) navToggle.style.top = '0';

        // 2. ì¸í„°ë²Œì´ ë©ˆì¶˜ ìƒíƒœë¼ë©´ ë‹¤ì‹œ ì‹œì‘ (ì‚¬ìš©ìê°€ ë‹¤ì‹œ ì¼¤ ê²½ìš°ë¥¼ ëŒ€ë¹„)
        if (!translateBarCheckInterval) {
            translateBarCheckInterval = setInterval(adjustLayoutForTranslateBar, 500);
        }
    }
    // âš ï¸ else (ë²ˆì—­ ë°”ê°€ ì—†ê³ , ì˜µì €ë²„ê°€ í˜¸ì¶œí•˜ì§€ ì•Šì€ ìƒíƒœ)
    // ì´ ê²½ìš°ëŠ” ì´ˆê¸° ë¡œë”© ìƒíƒœì´ë¯€ë¡œ, ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•Šê³  CSS ê¸°ë³¸ê°’(top: 0)ì— ì˜ì¡´í•©ë‹ˆë‹¤.
}
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>
</html>
